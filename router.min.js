export const databaseApi="https://ibn-samy-short-links.firebaseio.com/links";export const getData=async(n="")=>{const o=await fetch(n,{mode:"cors",method:"GET"});return o.json()};const HomeComponent={render:()=>'\n    <section>\n    <form action="javascript:;" onsubmit="createNewShortLink()">\n      <label for="link">Url to shorten:</label>\n      <input type="text" name="link" id="link" required />\n      <small id="urlValidity"></small>\n      <!-- <label for="slug">Optional. Custom micro url:</label>\n      <input type="text" name="slug" id="slug" /> -->\n      <input type="submit" value="Create" />\n    </form>\n  </section>\n\n  <!-- <input type="text" name="link" id="link" />\n  <button onclick="createNewShortLink()">Create</button> -->\n  <p id="result"></p>\n  <button class=\'displayNone\' onclick="copyShortLink()">Copy</button>\n  <button class=\'displayNone\' onclick="createQR()">Create QR</button>\n  <img src="" id="qrImg" class=\'displayNone\' />\n  <script type="module" src="./app.js"></script>\n\n      '},ErrorComponent={render:()=>"\n        <section>\n          <h1>Error</h1>\n          <p>This is just a test</p>\n        </section>\n      "},ShortLinkComponent={get:n=>(console.log(`${databaseApi}.json?orderBy="$key"&equalTo="${n}"&print=pretty`),getData(`${databaseApi}.json?orderBy="$key"&equalTo="${n}"&print=pretty`).then(o=>(console.log(o),console.log(o[`${n}`].domain),o[`${n}`].domain)).then(n=>{console.log(this),ShortLinkComponent.open(n)}).catch(()=>ErrorComponent.render())),open:n=>{window.open(n,"_self")}},routes=[{path:"/",component:HomeComponent},{path:"/404",component:ErrorComponent}],router=()=>{const n=window.location.pathname||"/";console.log(n);const{component:o=ShortLinkComponent}=routes.find(o=>o.path===n)||{};if(o===ShortLinkComponent){const t=n.split("/")[1];console.log(t),""!==t&&" "!==t&&o.get(t)}else{const n=document.querySelector("#app");n.innerHTML=o.render()}},test=()=>{console.log("pathname: ",window.location.pathname),console.log("hash: ",window.location.hash),router()};window.addEventListener("load",test),window.addEventListener("hashchange",test);