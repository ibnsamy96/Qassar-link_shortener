<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../assets/css/normalize.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../../assets/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa:wght@400;700&family=Tajawal:wght@300;400;700&display=swap"
        rel="stylesheet">
    <title>Aqsar Link | Home</title>
</head>

<body class="container-md h-100">
    <div id="app" class=" row m-0 h-100">
        <main class='col my-auto'>
            <div class="row mb-5">
                <div class="col-12">
                    <h1 id='' class="primaryText">أقصر لينك</h1>
                </div>
            </div>
            <section id='formSection'>
                <form action="javascript:;" onsubmit="createNewShortLink()">
                    <div class="form-row justify-content-center">
                        <div class='col-9 col-sm-8 col-md-6 col-lg-5  p-0'>
                            <input class="form-control" placeholder="ضع الرابط الطويل" type="text" name="link" id="link"
                                required />
                        </div>
                        <div class='col-auto p-0'>
                            <input id='submitBTN' class="btn btn-block btn-primary" type="submit" value="قصّر الرابط" />
                        </div>
                        <small class="form-text text-muted" id="urlValidity"></small>
                    </div>
                </form>
            </section>
            <section class="row justify-content-center mt-5" id='shortenedLinks'>
                <div class="col-md-6">
                    <!-- <h2 id='shortenedLinksHeadline' class=""><span>آخر الروابط المقصرة</span></h2>
                    <div class='linkGroup'>
                        <p class="shortLink"></p>
                        <p class="longLink"></p>
                        <button class='copyBTN btn btn-secondary' onclick="copyShortLink()">Copy</button>
                        <button class='qrBTN btn btn-secondary' onclick="createQR()">Create QR</button>
                    </div> -->
                </div>
            </section>
            <section id='qrCodeOverlay'>
                <div id='qrBox'>
                    <i id='closeOverlay'></i>
                    <img src="" id="qrImg" />
                    <a id='downloadQRImg'></a>
                </div>
            </section>
        </main>
    </div>
    <script>
        let previouslyShortened = [];

        function checkPreviouslyShortened() {
            if (previouslyShortened.length > 0) {
                document.querySelector('#shortenedLinks').style.display = 'flex'
                document.querySelector('#shortenedLinks').style.visibility = 'visible'
                document.querySelector('#shortenedLinks').style.opacity = '0.5'
            }
        }
        const createNewShortLink = () => {
            previouslyShortened.push({
                slug: 'wwos',
                domain: 'www.sx.xom'
            })
            checkPreviouslyShortened()
        }
    </script>
</body>

</html>